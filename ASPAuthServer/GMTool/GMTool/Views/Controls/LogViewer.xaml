<UserControl x:Class="GMTool.Views.Controls.LogViewer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.modernwpf.com/2019">

    <UserControl.Resources>
        <!-- ë¡œê·¸ ë ˆë²¨ë³„ ìƒ‰ìƒ -->
        <SolidColorBrush x:Key="DebugBrush" Color="#9E9E9E" />
        <SolidColorBrush x:Key="InfoBrush" Color="#2196F3" />
        <SolidColorBrush x:Key="SuccessBrush" Color="#4CAF50" />
        <SolidColorBrush x:Key="WarningBrush" Color="#FF9800" />
        <SolidColorBrush x:Key="ErrorBrush" Color="#F44336" />
    </UserControl.Resources>

    <Border Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48" />   <!-- íˆ´ë°” -->
                <RowDefinition Height="*" />    <!-- ë¡œê·¸ ëª©ë¡ -->
            </Grid.RowDefinitions>

            <!-- íˆ´ë°” -->
            <Border Grid.Row="0" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="12,8">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!-- ê²€ìƒ‰ -->
                    <TextBox Grid.Column="0"
                             x:Name="SearchTextBox"
                             ui:ControlHelper.PlaceholderText="ë¡œê·¸ ê²€ìƒ‰..."
                             VerticalAlignment="Center"
                             Height="32"
                             Margin="0,0,12,0" />

                    <!-- ë¡œê·¸ ë ˆë²¨ í•„í„° -->
                    <ComboBox Grid.Column="1"
                              x:Name="LogLevelComboBox"
                              SelectedIndex="0"
                              VerticalAlignment="Center"
                              Width="120"
                              Height="32"
                              Margin="0,0,12,0">
                        <ComboBoxItem Content="ì „ì²´" />
                        <ComboBoxItem Content="ðŸ” Debug" />
                        <ComboBoxItem Content="â„¹ï¸ Info" />
                        <ComboBoxItem Content="âœ… Success" />
                        <ComboBoxItem Content="âš ï¸ Warning" />
                        <ComboBoxItem Content="âŒ Error" />
                    </ComboBox>

                    <!-- í´ë¦¬ì–´ ë²„íŠ¼ -->
                    <Button Grid.Column="2"
                            x:Name="ClearButton"
                            Content="ðŸ—‘ï¸ í´ë¦¬ì–´"
                            VerticalAlignment="Center"
                            Height="32"
                            Padding="12,0"
                            Margin="0,0,12,0" />

                    <!-- ë¡œê·¸ ê°œìˆ˜ -->
                    <TextBlock Grid.Column="3"
                               x:Name="LogCountText"
                               Text="ì´ 0ê°œ"
                               VerticalAlignment="Center"
                               Foreground="#666"
                               FontSize="13"
                               Margin="12,0,0,0" />
                </Grid>
            </Border>

            <!-- ë¡œê·¸ ëª©ë¡ -->
            <ListBox Grid.Row="1"
                     x:Name="LogListBox"
                     Background="White"
                     BorderThickness="0"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                     VirtualizingPanel.IsVirtualizing="True"
                     VirtualizingPanel.VirtualizationMode="Recycling">

                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                        <Setter Property="Padding" Value="12,6" />
                        <Setter Property="BorderThickness" Value="0,0,0,1" />
                        <Setter Property="BorderBrush" Value="#F0F0F0" />
                    </Style>
                </ListBox.ItemContainerStyle>

                <!-- ìƒ˜í”Œ ë¡œê·¸ ì•„ì´í…œ (ë‚˜ì¤‘ì— DataTemplateìœ¼ë¡œ ë°”ì¸ë”©) -->
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <!-- ë¡œê·¸ ë©”ì‹œì§€ -->
                            <TextBlock FontFamily="Consolas"
                                       FontSize="13"
                                       TextWrapping="Wrap"
                                       Text="[12:34:56] â„¹ï¸ ìƒ˜í”Œ ë¡œê·¸ ë©”ì‹œì§€ìž…ë‹ˆë‹¤"
                                       Foreground="#333" />
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <!-- ë¡œê·¸ ì—†ì„ ë•Œ í‘œì‹œ -->
            <Border Grid.Row="1"
                    x:Name="EmptyLogBorder"
                    Background="White"
                    Visibility="Visible">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="ðŸ“"
                               FontSize="48"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,16" />
                    <TextBlock Text="ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤"
                               FontSize="16"
                               Foreground="#999"
                               HorizontalAlignment="Center" />
                    <TextBlock Text="API í˜¸ì¶œ, ì—ëŸ¬, ì‚¬ìš©ìž ì•¡ì…˜ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤"
                               FontSize="13"
                               Foreground="#BBB"
                               HorizontalAlignment="Center"
                               Margin="0,8,0,0" />
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</UserControl>
