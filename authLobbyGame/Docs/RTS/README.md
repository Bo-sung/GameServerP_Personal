# RTS 게임 확장 (Real-Time Strategy)

이 폴더는 Auth-Lobby-Game 플랫폼에서 RTS 게임 장르를 지원하기 위한 확장 명세서를 포함합니다.

## 📋 문서 목록

### 1. [RTS_GAME_SPECIFICATION.md](RTS_GAME_SPECIFICATION.md)
RTS 게임의 전반적인 설계와 핵심 시스템 명세
- 게임 모드 및 게임플레이
- 지도 시스템
- 자원 관리 시스템
- 유닛/건물 시스템

### 2. [RTS_GAME_LOGIC.md](RTS_GAME_LOGIC.md)
RTS 게임 로직 구현 상세
- 차 기반 턴 시스템 vs 실시간 시스템
- 자원 채취 및 생성 로직
- 유닛 생산 및 관리
- 건물 건설 시스템
- 기술 트리 및 업그레이드

### 3. [RTS_NETWORK_PACKETS.md](RTS_NETWORK_PACKETS.md)
RTS 게임 네트워크 패킷 정의
- 명령 시스템 (Command)
- 게임 상태 동기화 패킷
- 유닛/건물 상태 업데이트
- 자원 업데이트 패킷
- 맵 포그 오브 워 (Fog of War) 동기화

### 4. [RTS_SYNCHRONIZATION.md](RTS_SYNCHRONIZATION.md)
RTS 게임의 동기화 전략
- 게임 상태 일관성 유지
- 명령 우선순위 및 처리 순서
- 네트워크 지연 보정
- 재동기화 (Resync) 메커니즘
- 관전자 (Spectator) 모드 동기화

### 5. [RTS_DATABASE_EXTENSION.md](RTS_DATABASE_EXTENSION.md)
RTS 게임을 위한 데이터베이스 확장
- MySQL 테이블 설계 (맵, 유닛, 건물, 게임 결과)
- Redis 데이터 구조 (게임 상태, 자원, 명령 큐)
- 게임 통계 및 기록 저장

### 6. [RTS_ECONOMY_SYSTEM.md](RTS_ECONOMY_SYSTEM.md)
RTS 자원 및 경제 시스템
- 다중 자원 시스템 (광물, 가스, 식량 등)
- 자원 채취 및 생산 밸런싱
- 생산 큐 및 대기 시간
- 플레이어 경제 상태 추적

### 7. [RTS_FOG_OF_WAR.md](RTS_FOG_OF_WAR.md)
안개 시스템 (Fog of War) 구현
- 가시 범위 계산 (Visibility)
- 적 유닛 은폐 처리
- 서버/클라이언트 동기화
- 성능 최적화

### 8. [RTS_AI_SYSTEM.md](RTS_AI_SYSTEM.md) (선택사항)
RTS 게임의 AI 시스템
- 컴퓨터 플레이어 기본 구조
- 자원 관리 AI
- 유닛 배치 AI
- 건물 배치 AI

## 🎮 RTS 게임 특성

### 특징
- **턴제 또는 실시간**: 게임 방식 선택 가능
- **자원 관리**: 다중 자원 시스템
- **대규모 유닛**: 수십~수백 개의 유닛 관리
- **건물 건설**: 전략적 건물 배치
- **기술 진화**: 업그레이드 및 기술 트리
- **영역 제어**: 맵 지배와 경계 확장
- **관전**: 멀티플레이 게임 관전 지원

### 지원 게임 모드
1. **1v1 전투**: 2인 플레이어
2. **팀 전투**: 2v2, 3v3, FFA 등
3. **캠페인**: 싱글플레이 스토리 모드 (선택)
4. **사용자 정의 게임**: 플레이어가 직접 설정

## 🏗️ 아키텍처 통합

RTS 게임 확장은 기존 Auth-Lobby-Game 아키텍처와 완벽하게 통합됩니다:

```
클라이언트
    ↓ (로그인)
인증 서버
    ↓ (토큰)
로비 서버
    ├─→ 게임 방 생성 (RTS 모드 선택)
    ├─→ 플레이어 매칭
    └─→ 게임 서버 배정
         ↓
게임 서버 (RTS 엔진)
    ├─→ 게임 상태 관리
    ├─→ 명령 처리
    ├─→ 동기화 처리
    └─→ 게임 결과 저장
```

## 📊 네트워크 대역폭 고려사항

RTS 게임은 많은 수의 유닛/건물을 관리하므로 네트워크 효율성이 중요합니다:

- **명령 압축**: 여러 명령을 배치로 전송
- **시뮬레이션 기반**: 결정적 알고리즘으로 클라이언트 예측
- **관심 영역**: 플레이어가 보는 영역만 동기화
- **패킷 병합**: 여러 업데이트를 하나의 패킷으로

## 🔄 개발 로드맵

### Phase 1: 기본 시스템
- [ ] 게임 방 시스템 (RTS 모드 추가)
- [ ] 맵 로딩 및 초기화
- [ ] 자원 시스템 기본 구현
- [ ] 유닛 생산 및 제어

### Phase 2: 고급 시스템
- [ ] 건물 건설 시스템
- [ ] 기술 트리 구현
- [ ] 포그 오브 워
- [ ] AI 플레이어 (선택)

### Phase 3: 최적화 및 테스트
- [ ] 네트워크 최적화
- [ ] 성능 튜닝
- [ ] 밸런싱 조정
- [ ] 버그 수정

## 📝 주요 설계 결정사항

1. **실시간 vs 턴제**: 실시간 RTS (StarCraft 스타일)
2. **자원 타입**: 최소 2~3가지 (예: 광물, 가스, 에너지)
3. **동기화 빈도**: 100ms~500ms 단위 동기화
4. **최대 플레이어**: 맵/자원에 따라 2~8명
5. **게임 지속시간**: 평균 10분~1시간

